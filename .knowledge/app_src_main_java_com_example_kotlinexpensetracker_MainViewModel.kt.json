{"is_source_file": true, "format": "Kotlin", "description": "This file contains the implementation of MainViewModel, a ViewModel class that manages UI-related data for an expense tracker app. It handles state management for current month filtering, transaction totals, and category data, interfacing with repositories and providing observable flows for the UI to observe.", "external_files": ["com.example.kotlinexpensetracker.domain.CategoriesRepository", "com.example.kotlinexpensetracker.domain.CategoryEntry", "com.example.kotlinexpensetracker.domain.ITransactionsRepository", "com.example.kotlinexpensetracker.domain.InMemoryTransactionsRepository", "com.example.kotlinexpensetracker.domain.Item", "com.example.kotlinexpensetracker.utils.DateUtils", "kotlinx.coroutines.flow.MutableStateFlow", "kotlinx.coroutines.flow.SharingStarted", "kotlinx.coroutines.flow.StateFlow", "kotlinx.coroutines.flow.combine", "kotlinx.coroutines.flow.map", "kotlinx.coroutines.flow.stateIn"], "external_methods": ["CategoriesRepository.getById", "DateUtils.currentMonthId", "DateUtils.formatMonthLabel", "DateUtils.isSameMonth", "DateUtils.getPreviousMonth", "DateUtils.getNextMonth"], "published": ["MainViewModel", "currentMonthId", "monthLabel", "allItems", "filteredItems", "filteredTransactions", "totalIncome", "totalExpenses", "balance", "goToPreviousMonth", "goToNextMonth", "setCurrentMonth", "addItem", "updateItem", "deleteItem", "getCategory", "getAllCategories", "uiLocale"], "classes": [{"name": "MainViewModel", "description": "A ViewModel that manages expense tracking data, including current month, transactions, totals, and categories."}], "methods": [{"name": "goToPreviousMonth", "description": "Moves the current month filter to the previous month."}, {"name": "goToNextMonth", "description": "Advances the current month filter to the next month."}, {"name": "setCurrentMonth", "description": "Sets the current month filter to a specific month ID in 'yyyy-MM' format."}, {"name": "addItem", "description": "Adds a new transaction item to the repository."}, {"name": "updateItem", "description": "Updates an existing transaction item in the repository."}, {"name": "deleteItem", "description": "Deletes a transaction item by its ID."}, {"name": "getCategory", "description": "Retrieves a category entry by its ID."}, {"name": "getAllCategories", "description": "Retrieves all categories available."}], "calls": ["CategoriesRepository.getById", "DateUtils.currentMonthId", "DateUtils.formatMonthLabel", "DateUtils.isSameMonth", "DateUtils.getPreviousMonth", "DateUtils.getNextMonth"], "search-terms": ["MainViewModel", "Expense tracking", "month filter", "transactions repository", "Summaries", "CategoryEntry", "Balance calculation", "Coroutines flows", "Kotlin ViewModel"], "state": 2, "file_id": 28, "knowledge_revision": 69, "git_revision": "9a2edb4f52c7a3906bf8afe933c196e1d0238b6b", "revision_history": [{"65": ""}, {"69": "9a2edb4f52c7a3906bf8afe933c196e1d0238b6b"}], "hash": "978e84fd71cade28feabc4d0cc98b138", "format-version": 4, "code-base-name": "kotlin-expense-tracker", "filename": "app/src/main/java/com/example/kotlinexpensetracker/MainViewModel.kt"}